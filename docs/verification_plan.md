# 验证计划 (Verification Plan)

## 1. 项目概述

### 1.1 项目名称
UVM Verification Platform

### 1.2 版本信息
- 版本: 1.0
- 日期: 2026-02-05
- 作者: UVM Verification Platform

### 1.3 项目描述
本项目是一个专业级的 UVM 验证环境模板，适用于芯片验证工程师进行 RTL 验证。

## 2. 验证目标

### 2.1 待验证模块
- **DUT**: my_dut (示例设计)
- **接口**: AXI4-Lite
- **功能**: 简单的寄存器读写和数据处理

### 2.2 验证范围
| 范围 | 描述 | 优先级 |
|------|------|--------|
| 冒烟测试 | 基本功能验证 | P0 |
| 功能测试 | 完整功能覆盖 | P0 |
| 边界测试 | 边界条件验证 | P1 |
| 压力测试 | 高负载验证 | P1 |
| 异常测试 | 错误处理验证 | P2 |

## 3. 验证策略

### 3.1 验证层次
```
┌─────────────────────────────────────────────────────────┐
│                   System Level (系统级)                  │
│              (完整芯片功能验证 - 可选)                    │
├─────────────────────────────────────────────────────────┤
│                  Chip Level (芯片级)                      │
│              (子系统集成验证 - 可选)                      │
├─────────────────────────────────────────────────────────┤
│                 Module Level (模块级)                    │
│                    (本验证平台)                          │
│  ┌───────────────────────────────────────────────────┐  │
│  │  Environment: UVM ENV                            │  │
│  │  ├── Agent: AXI Agent (Driver/Monitor/Sequencer) │  │
│  │  ├── Scoreboard: 结果检查                        │  │
│  │  └── Coverage: 覆盖率收集                        │  │
│  └───────────────────────────────────────────────────┘  │
├─────────────────────────────────────────────────────────┤
│                  RTL Level (RTL 级)                      │
│                    (待验证的设计)                         │
└─────────────────────────────────────────────────────────┘
```

### 3.2 验证方法
| 方法 | 描述 | 工具 |
|------|------|------|
| 功能仿真 | RTL 功能验证 | VCS/NCsim/Xcelium |
| 覆盖率驱动 | 覆盖率收集和分析 | VCS/Coverage tools |
| 随机验证 | 约束随机测试 | UVM sequences |
| 回归测试 | 自动回归执行 | Makefile/GitHub Actions |

## 4. 测试列表

### 4.1 冒烟测试 (P0)
| 测试名称 | 描述 | 目标 |
|----------|------|------|
| smoke_test | 冒烟测试 | 验证基本功能正常 |

### 4.2 功能测试 (P0)
| 测试名称 | 描述 | 目标 |
|----------|------|------|
| demo_test | 功能演示测试 | 演示完整功能 |
| axi_write_read_test | AXI 读写测试 | 验证 AXI 协议 |
| axi_single_test | 单次传输测试 | 验证单次读写 |
| axi_burst_test | 突发传输测试 | 验证突发传输 |

### 4.3 边界测试 (P1)
| 测试名称 | 描述 | 目标 |
|----------|------|------|
| axi_boundary_addr | 地址边界测试 | 边界地址访问 |
| axi_boundary_len | 长度边界测试 | 边界长度测试 |
| axi_boundary_size | 大小边界测试 | 边界大小测试 |

### 4.4 压力测试 (P1)
| 测试名称 | 描述 | 目标 |
|----------|------|------|
| axi_stress_test | 压力测试 | 高负载验证 |
| axi_continuous_test | 连续传输测试 | 长时间运行 |

### 4.5 异常测试 (P2)
| 测试名称 | 描述 | 目标 |
|----------|------|------|
| axi_error_test | 错误注入测试 | 错误处理 |
| axi_timeout_test | 超时测试 | 超时处理 |

## 5. 覆盖率计划

### 5.1 代码覆盖率要求
| 覆盖率类型 | 目标 | 说明 |
|------------|------|------|
| Line Coverage | ≥ 95% | 行覆盖率 |
| Toggle Coverage | ≥ 90% | 翻转覆盖率 |
| Condition Coverage | ≥ 90% | 条件覆盖率 |
| Branch Coverage | ≥ 90% | 分支覆盖率 |
| FSM Coverage | ≥ 90% | 状态机覆盖率 |

### 5.2 功能覆盖率
| 覆盖组 | 覆盖点 | 交叉覆盖 |
|--------|--------|----------|
| AXI_CG | cmd, addr, len, size, burst | cmd×burst, len×size |

### 5.3 覆盖率检查点
- [ ] Line Coverage ≥ 95%
- [ ] Toggle Coverage ≥ 90%
- [ ] Condition Coverage ≥ 90%
- [ ] Branch Coverage ≥ 90%
- [ ] 所有功能覆盖点命中

## 6. 验证环境

### 6.1 仿真工具
| 工具 | 版本 | 用途 |
|------|------|------|
| VCS | 2023+ | 主要仿真器 |
| NCsim | 2023+ | 备选仿真器 |
| Xcelium | 2023+ | 备选仿真器 |

### 6.2 UVM 版本
- UVM 1.2 / UVM 1800.2-2021

### 6.3 硬件要求
- 内存: ≥ 16GB
- CPU: ≥ 8 cores
- 磁盘: ≥ 100GB

## 7. 回归测试

### 7.1 回归策略
| 类型 | 触发条件 | 频率 |
|------|----------|------|
| 冒烟测试 | 每次提交 | 每次 |
| 功能测试 | 每次提交 | 每次 |
| 完整回归 | 每日/合并前 | 每日 |

### 7.2 回归报告
- 自动生成 HTML 报告
- 发送到邮件列表
- 上传到 Artifacts

## 8. 签核标准

### 8.1 功能签核
- [ ] 所有 P0 测试通过
- [ ] 所有 P1 测试通过
- [ ] 无未解决的 Bug

### 8.2 覆盖率签核
- [ ] Line Coverage ≥ 95%
- [ ] 所有功能覆盖点命中
- [ ] 无覆盖空洞

### 8.3 代码质量签核
- [ ] Linting 检查通过
- [ ] 无严重警告

## 9. 时间计划

| 阶段 | 任务 | 工期 |
|------|------|------|
| Week 1 | 验证环境搭建 | 5 天 |
| Week 2 | 冒烟测试通过 | 5 天 |
| Week 3 | 功能测试开发 | 5 天 |
| Week 4 | 回归测试执行 | 5 天 |
| Week 5 | 覆盖率收敛 | 5 天 |
| Week 6 | 签核和报告 | 5 天 |

## 10. 风险和缓解

| 风险 | 影响 | 缓解措施 |
|------|------|----------|
| 仿真时间过长 | 延迟验证进度 | 并行回归、波形裁剪 |
| 覆盖率不收敛 | 延迟签核 | 分析空洞、增加测试 |
| 工具问题 | 影响效率 | 备选工具、回滚版本 |

## 11. 附录

### 11.1 参考文档
- UVM 1.2 User Guide
- AXI4-Lite Protocol Specification
- VCS User Guide

### 11.2 工具版本
| 工具 | 版本 | 安装路径 |
|------|------|----------|
| VCS | 2023.12 | /opt/vcs |
| UVM | 1800.2-2021 | /opt/uvm |

---

**文档版本**: 1.0  
**最后更新**: 2026-02-05  
**作者**: UVM Verification Platform
